\documentclass{ximera}

% \numberedProblemstrue

\title{Labels and refs}

\begin{document}
\begin{abstract}
\end{abstract}
\maketitle
\label{xim:labels}

% {{\Huge \bfseries Last Updated: \today}} \\

%\section{Basic Demo}

\section{Basic Example}
\label{sec:basic example}
See \autoref{sec:xmref} for links to objects in this section.


Pythagoras in a \verb|\begin{equation}| with \verb|\label{eq:pyth}| gives
\begin{equation}
  a^2 + b^2 = c^2   \label{eq:pyth}
\end{equation}
and in \verb|\[ ... \]| with \verb|\label{eq:pyth}| and with \verb|\tag{Pyth.}|:
\[
  a^2 + b^2 = c^2   \tag{Pyth.} \label{tag:pyth}
\]
or just in a \verb|center| environment with a \verb|\hypertarget|
\begin{center}
 \hfill\qquad $a^2 + b^2 = c^2$  \qquad \hfill  \hypertarget{ht:pyth}{(Pyth. (hypertarget))}
\end{center}

Consider also this numbered list with \verb|\label{itm:first}| and \verb|\label{itm:second}|:
\begin{enumerate}
  \item First item \label{itm:first}
  \item Second item \label{itm:second}
\end{enumerate}

\section{List with xmref}
\label{sec:xmref}

In \autoref{sec:basic example} following labels were defined:
to which we can refer with \verb|\xmref|:
\begin{center}
\begin{tabular}{|l|l|l|l|}
\hline
Command & Result & Command with [text] & Result \\
\hline
\verb| \xmref{itm:first}|          & \xmref{itm:first}   & \verb| \xmref[first item]{itm:first}|    & \xmref[first item]{itm:first} \\
\verb|$\xmref{eq:pyth}$|           &$\xmref{eq:pyth}$    & \verb|$\xmref[first eq.]{eq:pyth}$|      &$\xmref[first eq.]{eq:pyth}$ \\
\verb| \xmref{eq:pyth} |           & \xmref{eq:pyth}     & \verb| \xmref[first eq.]{eq:pyth}|      & \xmref[first eq.]{eq:pyth} \\
\verb| \xmref{tag:pyth}|           & \xmref{tag:pyths}   & \verb| \xmref[second eq.]{tag:pyth}|     & \xmref[second eq.]{tag:pyth} \\
\verb| \xmref{ht:pyth}|            & \xmref{ht:pyth}     &                                          &  \\
%\verb| \xmref{xim_labelsFromOtherActivity}| & \xmref{xim_labelsFromOtherActivity} & \verb|\xmref[a page with back-links]{xim_labelsFromOtherActivity}| & \xmref[a page with back-links]{xim_labelsFromOtherActivity} \\
\verb| \xmref{https://ximera.org}| & \xmref{https://ximera.org} & \verb| \xmref[Ximera]{https://ximera.org}| & \xmref[Ximera]{https://ximera.org} \\
\hline
\end{tabular}
\end{center}

\begin{itemize}
  \item the first item in the list above, thus \xmref{itm_first}, 
        or with custom text \xmref[first first]{itm_first},
%   \item the second item in the list above, thus \xmref{itm_second},
%   \item the first equation, thus \xmref{eq_pythagoras}, or with custom text \xmref[eq_pythagoras]{first equation},
%   \item the second equation, thus \xmref{eq_tag_pythagoras}, or with custom text \xmref[eq_tag_pythagoras]{second equation},
%   \item the third equation, thus \xmref{ht_pythagoras}.
%   \item a remote ximera page \xmref{xim_labelsFromOtherActivity}.
%   \item a remote ximera page with a label \xmref[a page with back-links]{xim_labelsFromOtherActivity}.
%   \item a url \xmref{https://ximera.org}.
  \item a url with a text \xmref[Ximera.org]{https://ximera.org}.
\end{itemize}.


Note that in HTML \verb|\ref| and \verb|\eqref| without mathmode might jump to BELOW Equation~\ref{eq_pythagoras} or \eqref{eq_pythagoras}, and
\verb|\ref| might need a \verb|\text| to avoid $\ref{eq_pythagoras}$.

The first equation appears on page~\pageref{eq_pythagoras}, the second on page~\pageref{eq_tag_pythagoras}. 
Note that this does not make a lot of sense online.

We refer to item~\ref{itm_first} in the list above.

You can find these same links from another activity, see \hyperlink{xim_labelsFromOtherActivity}{the labels test activity}.

You can find these same links from another activity, see \hyperref[xim_labelsFromOtherActivity]{the labels test activity}.

\section{Figures and Tables}

\subsection{A Demo Figure}
\label{sec:fig}

\begin{image}[0.3\textwidth]
  \centering
  \includegraphics[width=0.3\textwidth]{missionPatch.jpg} % Adjust the path to your image file
\end{image}
  \captionof{figure}{A demo image}
  \label{fig:demo}

\subsection{A Demo Table}

{
  \centering
  \begin{tabular}{|c|c|}
    \hline
    A & B \\
    \hline
    1 & 2 \\
    \hline
  \end{tabular}
  \captionof{table}{An example table}
  \label{tab:example}
}

 \begin{theorem} \label{thm:1}
  
  This is a theorem that refers to Equation~$\eqref{eq:pythagoras}$ and Figure~\ref{fig:demo}.

  
 \end{theorem}

\begin{example} \label{ex:1}
 First example  

 This example refers to Example~\ref{ex:2} and Example~\ref{ex:3}.

\end{example}
\begin{example} \label{ex:2}
 Second example  

  This example refers to Example~\ref{ex:1} and Example~\ref{ex:3}.
\end{example}
\begin{example} \label{ex:3}
 Third example  

  This example refers to Example~\ref{ex:1} and Example~\ref{ex:2}.
\end{example}


\section{Custom Text Reference}

This document started in Section~\ref{sec:intro} and discussed math in Section~\nameref{sec:math}.


\begin{remark}

    \begin{itemize}
        \item  Links should be GLOBALLY unique, so do not use the same label in different activities.
        \item  In a PDF links behave differently depending on whether the target is in the PDF or not. 
            Test carefully and thoroughly.
    \end{itemize}
\end{remark}


\section{Start of Test/Demo Area}

\begin{equation}
a^2 + b^2 = c^2    \label{eq:pyth2}
\end{equation}

Facemus paginam abbastanzam longam, so that we can test the scrolling to the refs.

\lipsum[1]

\lipsum[2]

\lipsum[3]

\lipsum[4]

\hrulefill

\end{document}
