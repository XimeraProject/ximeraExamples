\documentclass{ximera}

\title{Localization Support}
\input{localizationPreamble.tex}

\begin{document}
\begin{abstract}%%
    We are working on supporting additional languages!
\end{abstract}
\maketitle

{{\Huge \bfseries Last Updated: \today}} \\

\section{Basic Usage}

The localization package should automatically detect if a user has added babel as a package (as of the run of begin{document} command) 
then load any relevant language package for ximera from the localization subfolder in the src folder (if it exists). 

If you wish to change the loaded language mid-document, you can use the \verb|\selectlanguage| command as normal 
for a file using the babel package.

\textbf{Note:} Currently ximera does not directly support polyglossia package - if you need to use this package you should 
contact the development team.

This test file loads a 'localizationPreamble.tex' file, which contains the babel load with a language selected (default french).
If testing a specific language, change the loaded language here.

Below should print if babel was successfully loaded, along with if translations (a relevant support package) was loaded.
Finally, it should also display what language the document thinks is being used for translating (as far as ximera is considered),
with a default of English is Babel isn't used (this will also be printed).

\makeatletter
\@ifpackageloaded{babel}{I think package: babel is Loaded.}{I think package: babel is Not Loaded.}

\@ifpackageloaded{translations}{I think package: translations is Loaded.}{I think package: translations is Not Loaded.}

Currently using the language: \@ifpackageloaded{babel}{\languagename{}, 
and that was set by babel, and nothing else!}{English by Default (since Babel wasn't loaded)} %%%

\makeatother



\section{Intended Outcome of Test}

The test area should have a multiple choice problem, a select all question with feedback (correct and attempt feedback), 
and an exercise with a hint. Then it should have all the theorem-like environments.

\textbf{IF the babel package is loaded:} The entire section described above is done twice, once in the loaded language (french by default in localizationpreamble)
and then once via the selectlanguage command (by default, Portuguese).

In each section, the content that \textit{is not} author controlled (e.g. environment titles, the phrase ``feedback(correct)'', etc)
should be automatically translated to the relevant language. Note that this does \textbf{not} translate any of the environment
content or any other part that is directly content-author generated.


\section{Start of Test/Demo Area}

{{\bfseries\large Current Default Language: I think it is \languagename{}}}


\begin{problem}%
    This is a problem, and the answer is 1! %$\answer{1}$%%%
    \begin{multipleChoice}
        \choice{This is a wrong choice}
        \choice[correct]{this is a correct choice}
    \end{multipleChoice}%%
\end{problem}

\begin{question}
    This is a problem, and the answer is 2! %$\answer{2}$
    \begin{selectAll}
        \choice{This is a wrong choice}
        \choice[correct]{This is a correct choice. Note that it does have feedback this time though!}
    \end{selectAll}%%%%
    \begin{feedback}
        Here's some feedback! Note that it is trivial to remove the text, if you don't want it to say "feedback: " before the feedback. I only did it here to add/demo the infrastructure for online feedback (since the pdf does include "feedback: " by default, so that needed to be translated)%
    \end{feedback}
    \begin{feedback}[correct]
        I am adding this here just to show that we can indeed add tags with the existing translation system, and it will keep working.%
    \end{feedback}
\end{question}

\begin{exercise}
    \begin{hint}
        Here's a hint - the answer is 3!, not 3.
    \end{hint}
    Note: "Hint" is redefined in this KU Lueven printstyle and replaced by xmHint. Currently this translation works on the "hint" environment, but not the "xmHint" environment. We need to decide what we are using and I will write the code to support that.
    This is a problem: $\answer{6}$
\end{exercise}

\begin{exploration}
    This is a problem, and the answer is 4! $\answer{24}$
\end{exploration}
\begin{algorithm}
    This is an algorithm Environment.
\end{algorithm}% Used in theorems.dtx
\begin{axiom}
    This is an axiom Environment.
\end{axiom}% Used in theorems.dtx
\begin{claim}
    This is a claim Environment.
\end{claim}% Used in theorems.dtx
\begin{conclusion}
    This is a conclusion Environment.
\end{conclusion}% Used in theorems.dtx
\begin{condition}
    This is a condition Environment.
\end{condition}% Used in theorems.dtx
\begin{conjecture}
    This is a conjecture Environment.
\end{conjecture}% Used in theorems.dtx
\begin{corollary}
    This is a Theorem Environment.
\end{corollary}% Used in theorems.dtx
\begin{criterion}
    This is a Theorem Environment.
\end{criterion}% Used in theorems.dtx
\begin{definition}
    This is a definition Environment.
\end{definition}% Used in theorems.dtx
\begin{example}
    This is an example Environment.
\end{example}% Used in theorems.dtx
\begin{explanation}
    This is an explanation Environment.
\end{explanation}% Used in theorems.dtx
\begin{fact}
    This is a fact Environment.
\end{fact}% Used in theorems.dtx
\begin{lemma}
    This is a lemma Environment.
\end{lemma}% Used in theorems.dtx
\begin{formula}
    This is a formula Environment.
\end{formula}% Used in theorems.dtx
\begin{idea}
    This is an idea Environment.
\end{idea}% Used in theorems.dtx
\begin{notation}
    This is a notation Environment.
\end{notation}% Used in theorems.dtx
\begin{model}
    This is a model Environment.
\end{model}% Used in theorems.dtx
\begin{observation}
    This is an observation Environment.
\end{observation}% Used in theorems.dtx
\begin{proposition}
    This is a proposition Environment.
\end{proposition}% Used in theorems.dtx
\begin{paradox}
    This is a paradox Environment.
\end{paradox}% Used in theorems.dtx
\begin{procedure}
    This is a procedure Environment.
\end{procedure}% Used in theorems.dtx
\begin{remark}
    This is a remark Environment.
\end{remark}% Used in theorems.dtx
\begin{summary}
    This is a summary Environment.
\end{summary}% Used in theorems.dtx
\begin{template}
    This is a template Environment.
\end{template}% Used in theorems.dtx
\begin{warning}
    This is a warning Environment.
\end{warning}% Used in theorems.dtx

\makeatletter
\@ifpackageloaded{babel}{

\selectlanguage{Portuguese}%%

{{\bfseries\large Second Language: I think it is \languagename{}}}


\begin{problem}%
    This is a problem, and the answer is 1! %$\answer{1}$%%%
    \begin{multipleChoice}
        \choice{This is a wrong choice}
        \choice[correct]{this is a correct choice}
    \end{multipleChoice}%%
\end{problem}

\begin{question}
    This is a problem, and the answer is 2! %$\answer{2}$
    \begin{selectAll}
        \choice{This is a wrong choice}
        \choice[correct]{This is a correct choice. Note that it does have feedback this time though!}
    \end{selectAll}%%
    \begin{feedback}
        Here's some feedback!
    \end{feedback}
    \begin{feedback}[correct]
        I am adding this here just to show that we can indeed add tags with the existing translation system, and it will keep working.%
    \end{feedback}
\end{question}

\begin{exercise}
    \begin{hint}
        Here's a hint - the answer is 3!, not 3.
    \end{hint}
    Note: "Hint" is redefined in this KU Lueven printstyle and replaced by xmHint. Currently this translation works on the "hint" environment, but not the "xmHint" environment. We need to decide what we are using and I will write the code to support that.
    This is a problem: $\answer{6}$
\end{exercise}

\begin{exploration}
    This is a problem, and the answer is 4! $\answer{24}$
\end{exploration}
\begin{theorem}
    This is a Theorem Environment.
\end{theorem}% Used in theorems.dtx
\begin{algorithm}
    This is an algorithm Environment.
\end{algorithm}% Used in theorems.dtx
\begin{axiom}
    This is an axiom Environment.
\end{axiom}% Used in theorems.dtx
\begin{claim}
    This is a claim Environment.
\end{claim}% Used in theorems.dtx
\begin{conclusion}
    This is a conclusion Environment.
\end{conclusion}% Used in theorems.dtx
\begin{condition}
    This is a condition Environment.
\end{condition}% Used in theorems.dtx
\begin{conjecture}
    This is a conjecture Environment.
\end{conjecture}% Used in theorems.dtx
\begin{corollary}
    This is a Theorem Environment.
\end{corollary}% Used in theorems.dtx
\begin{criterion}
    This is a Theorem Environment.
\end{criterion}% Used in theorems.dtx
\begin{definition}
    This is a definition Environment.
\end{definition}% Used in theorems.dtx
\begin{example}
    This is an example Environment.
\end{example}% Used in theorems.dtx
\begin{explanation}
    This is an explanation Environment.
\end{explanation}% Used in theorems.dtx
\begin{fact}
    This is a fact Environment.
\end{fact}% Used in theorems.dtx
\begin{lemma}
    This is a lemma Environment.
\end{lemma}% Used in theorems.dtx
\begin{formula}
    This is a formula Environment.
\end{formula}% Used in theorems.dtx
\begin{idea}
    This is an idea Environment.
\end{idea}% Used in theorems.dtx
\begin{notation}
    This is a notation Environment.
\end{notation}% Used in theorems.dtx
\begin{model}
    This is a model Environment.
\end{model}% Used in theorems.dtx
\begin{observation}
    This is an observation Environment.
\end{observation}% Used in theorems.dtx
\begin{proposition}
    This is a proposition Environment.
\end{proposition}% Used in theorems.dtx
\begin{paradox}
    This is a paradox Environment.
\end{paradox}% Used in theorems.dtx
\begin{procedure}
    This is a procedure Environment.
\end{procedure}% Used in theorems.dtx
\begin{remark}
    This is a remark Environment.
\end{remark}% Used in theorems.dtx
\begin{summary}
    This is a summary Environment.
\end{summary}% Used in theorems.dtx
\begin{template}
    This is a template Environment.
\end{template}% Used in theorems.dtx
\begin{warning}
    This is a warning Environment.
\end{warning}% Used in theorems.dtx
}{}
\makeatother

\hrulefill
\end{document}